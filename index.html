<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spiele Key Vergabe</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        .hidden {
            display: none;
        }
    </style>
    <script>
        const PASSWORD = "meinPasswort"; // Setze hier das öffentliche Passwort ein
        const KEYS = {
            "Spiel 1": "ABC123-XYZ456",
            "Spiel 2": "DEF789-UVW123",
        };

        function checkPassword() {
            const nickname = document.getElementById("nickname").value.trim();
            const password = document.getElementById("password").value.trim();
            const spiel = document.getElementById("spiel").value;

            if (nickname === "") {
                alert("Bitte gib deinen Namen oder Nickname ein.");
                return;
            }

            if (password === PASSWORD) {
                const key = KEYS[spiel];
                document.getElementById("result").innerHTML = 
                    `<p><strong>${spiel}</strong>: Dein Key ist <code>${key}</code></p>`;

                // Automatische E-Mail senden
                sendEmail(nickname, spiel, key);
            } else {
                alert("Falsches Passwort! Bitte versuche es erneut.");
            }
        }

        function sendEmail(nickname, spiel, key) {
            // Daten an Formsubmit senden
            const form = document.createElement("form");
            form.action = "https://formsubmit.co/feho87@gmail.com"; // Ersetze mit deiner E-Mail
            form.method = "POST";
            form.style.display = "none";

            // Eingabefelder hinzufügen
            form.innerHTML = `
                <input type="hidden" name="_subject" value="Key abgerufen!">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="nickname" value="${nickname}">
                <input type="hidden" name="spiel" value="${spiel}">
                <input type="hidden" name="key" value="${key}">
            `;

            // Formular abschicken
            document.body.appendChild(form);
            form.submit();
            document.body.removeChild(form);
        }
    </script>
</head>
<body>
    <h1>Spiele Key Vergabe</h1>
    <p>Wähle ein Spiel aus, gib deinen Nickname und das Passwort ein, um den Key zu sehen.</p>
    <label for="spiel">Spiel:</label>
    <select id="spiel">
        <option value="Spiel 1">Spiel 1</option>
        <option value="Spiel 2">Spiel 2</option>
    </select><br><br>
    <label for="nickname">Dein Nickname:</label>
    <input type="text" id="nickname" placeholder="Nickname"><br><br>
    <label for="password">Passwort:</label>
    <input type="password" id="password" placeholder="Passwort"><br><br>
    <button onclick="checkPassword()">Key anzeigen</button>
    <div id="result" class="hidden"></div>
</body>
</html>
